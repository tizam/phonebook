{"version":3,"sources":["services/persons.js","components/Filter.js","components/Person.js","components/PersonForm.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","getAll","a","async","axios","get","request","data","addPerson","person","post","removePerson","id","delete","updatePerson","personObj","put","Filter","filter","handleFilter","type","value","onChange","Person","handleDelete","name","number","onClick","PersonForm","handleSubmit","handleInputName","handleInputNumber","newName","newNumber","onSubmit","Notification","message","msgClass","className","App","useState","people","setPeople","setFilter","setNewName","setNewNumber","setMessage","setMsgClass","useEffect","phoneServices","then","res","catch","error","console","log","peopleAfterDelete","p","window","confirm","event","target","toLowerCase","preventDefault","duplicate","find","updatedPerson","map","setTimeout","newPerson","includes","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6c589ec4.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = async () => {\n    const request = await axios.get(baseUrl)\n    const data = await request.data\n    return data\n}\n\nconst addPerson = async (person) => {\n    const request = await axios.post(baseUrl, person)\n    const data = await request.data\n    return data\n}\n\nconst removePerson = async (id) => {\n    const request = await axios.delete(`${baseUrl}/${id}`)\n    const data = await request.data\n    return data\n}\n\nconst updatePerson = async (id, personObj) => {\n    const request = await axios.put(`${baseUrl}/${id}`, personObj)\n    const data = await request.data\n    return data\n}\n\nexport default {\n    getAll,\n    addPerson,\n    removePerson,\n    updatePerson\n}","import React from 'react'\n\nconst Filter = ({ filter, handleFilter }) => {\n    return (\n        <p>Filter shown with <input type=\"text\" value={filter} onChange={handleFilter} /></p>\n    )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst Person = ({ person, handleDelete }) => {\n    const { name, number } = person\n    return (\n        <tr>\n            <td>{name}</td>\n            <td>{number}</td>\n            <td>\n                <button onClick={() => handleDelete(person)}>delete</button>\n            </td>\n        </tr>\n    )\n}\n\nexport default Person","import React from 'react'\n\nconst PersonForm = ({ handleSubmit, handleInputName, handleInputNumber, newName, newNumber }) => {\n    return (\n        <form onSubmit={handleSubmit} >\n            <h2>Add a person</h2>\n            <div>Name: <input type=\"text\" value={newName} onChange={handleInputName} /></div>\n            <div>Number: <input type=\"text\" value={newNumber} onChange={handleInputNumber} /></div>\n            <div><button type=\"submit\">Add</button></div>\n        </form>\n    )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Notification = ({ message, msgClass }) => {\n    if (message === null) {\n        return null\n    }\n    return (\n        <div className={msgClass}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react';\nimport phoneServices from './services/persons'\nimport Filter from './components/Filter'\nimport Person from './components/Person'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport './styles/app.css'\n\n\nfunction App() {\n\n  const [people, setPeople] = useState([])\n  const [filter, setFilter] = useState('')\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [message, setMessage] = useState(null)\n  const [msgClass, setMsgClass] = useState('')\n\n  useEffect(() => {\n    phoneServices\n      .getAll()\n      .then(res => setPeople(res))\n      .catch(error => console.log(error))\n  }, [])\n\n  /**\n   * handle filter function\n   */\n  const handleFilter = (event) => {\n    setFilter(event.target.value.toLowerCase())\n  }\n\n  /**\n   * handle add name input\n   */\n  const handleInputName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  /**\n * handle add number input\n */\n  const handleInputNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  /**\n   * handle form submit\n   */\n  const handleSubmit = (event) => {\n    event.preventDefault()\n\n    // check if input is submitted empty\n    if (newName === '') {\n      return\n    }\n\n    // check for duplicate\n    const duplicate = people.find(person => person.name === newName)\n\n    if (duplicate) {\n      const confirm = window.confirm(\n        `${duplicate.name} is already added to the phonebook, replace the old number with the new one ?`\n      )\n      if (confirm) {\n        const updatedPerson = { ...duplicate, number: newNumber }\n        phoneServices.updatePerson(duplicate.id, updatedPerson)\n          .then(res => {\n            setPeople(people.map(p => p.id !== duplicate.id ? p : updatedPerson))\n            setMessage(`Updated ${res.name}`)\n            setMsgClass('success')\n            setTimeout(() => {\n              setMessage(null)\n              setMsgClass('')\n            }, 5000)\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(error => {\n            setMessage(`information of ${duplicate.name} has already been removed from the server`)\n            setMsgClass('error')\n            setTimeout(() => {\n              setMessage(null)\n              setMsgClass('')\n            }, 5000)\n          })\n\n      }\n    } else {\n      const newPerson = { name: newName, number: newNumber }\n      phoneServices\n        .addPerson(newPerson)\n        .then(res => {\n          setPeople([...people, res])\n          setMessage(`Added ${res.name}`)\n          setMsgClass('success')\n          setTimeout(() => {\n            setMessage(null)\n            setMsgClass('')\n          }, 5000)\n        })\n        .catch(error => console.log(error))\n      setNewName('')\n      setNewNumber('')\n    }\n  }\n\n  const handleDelete = (person) => {\n    const peopleAfterDelete = people.filter(p => p.id !== person.id)\n    const confirm = window.confirm(`delete  ${person.name} ?`)\n    if (confirm) {\n      setPeople(peopleAfterDelete)\n      phoneServices.removePerson(person.id).catch(error => console.log(error))\n    }\n  }\n\n  return (\n    <div className=\"content\">\n      <h1>Phone Book App</h1>\n      <Notification message={message} msgClass={msgClass} />\n      <Filter filter={filter} handleFilter={handleFilter} />\n      <hr />\n      <PersonForm handleSubmit={handleSubmit} handleInputName={handleInputName} handleInputNumber={handleInputNumber} newName={newName} newNumber={newNumber} />\n      <hr />\n      <table id=\"people\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Number</th>\n            <th>Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          {people\n            .filter(person => person.name.toLowerCase().includes(filter))\n            .map(person => <Person person={person} key={person.id} handleDelete={handleDelete} />)\n          }\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}